syntax = "proto3";

import "google/protobuf/any.proto";

package JAAS;

message J9CompileRequest
   {
   uint32 methodOffset = 1;
   uint32 classOffset = 2;
   uint32 classChainCOffset = 3;
   uint32 classChainCLOffset = 4;
   }

message UInt64
   {
   uint64 val = 1;
   }
message UInt32
   {
   uint64 val = 1;
   }
message Pointer
   {
   fixed64 val = 1;
   }
message Bytes
   {
   bytes val = 1;
   }

message Bool
   {
   bool val = 1;
   }

message AnyData
   {
   repeated google.protobuf.Any data = 1;
   }

enum J9ServerMessageType
   {
   compilationCode = 0;
   get_rom_class_and_method_from_ram_method = 1;
   new_TR_resolved_j9_method = 2;
   isJNINative = 3;
   }

message J9ServerMessage
   {
   J9ServerMessageType type = 1;
   AnyData data = 2;
   }

message J9ClientMessage
   {
   AnyData data = 2;
   }

service J9CompileService
   {
   rpc Compile (stream J9ClientMessage) returns (stream J9ServerMessage);
   }
